--[[
    Rayfield Pink Interface - Vollständig Funktionsfähig
    Getestet & Bug-Free
]]

-- Services
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")

-- Create the Rayfield table
local Rayfield = {}

-- Theme System
Rayfield.Themes = {
    PinkElegance = {
        Background = Color3.fromRGB(10, 10, 10),
        Topbar = Color3.fromRGB(15, 15, 15),
        Primary = Color3.fromRGB(255, 105, 180),
        Secondary = Color3.fromRGB(255, 130, 200),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(200, 200, 200),
        Card = Color3.fromRGB(20, 20, 20),
        CardHover = Color3.fromRGB(30, 30, 30),
        Border = Color3.fromRGB(40, 40, 40)
    },
    
    PinkNeon = {
        Background = Color3.fromRGB(0, 0, 0),
        Topbar = Color3.fromRGB(10, 10, 10),
        Primary = Color3.fromRGB(255, 20, 147),
        Secondary = Color3.fromRGB(255, 105, 180),
        Text = Color3.fromRGB(255, 255, 255),
        TextSecondary = Color3.fromRGB(220, 220, 220),
        Card = Color3.fromRGB(15, 15, 15),
        CardHover = Color3.fromRGB(25, 25, 25),
        Border = Color3.fromRGB(255, 20, 147)
    }
}

Rayfield.CurrentTheme = "PinkElegance"

-- Helper Functions
local function GetTheme()
    return Rayfield.Themes[Rayfield.CurrentTheme]
end

local function CreateTween(object, properties, duration)
    duration = duration or 0.3
    return TweenService:Create(object, TweenInfo.new(duration, Enum.EasingStyle.Quint), properties)
end

local function CreateRoundedFrame(parent, size, position, color)
    local frame = Instance.new("Frame")
    frame.Size = size
    frame.Position = position
    frame.BackgroundColor3 = color
    frame.BorderSizePixel = 0
    frame.ClipsDescendants = true
    
    local corner = Instance.new("UICorner")
    corner.CornerRadius = UDim.new(0, 8)
    corner.Parent = frame
    
    if parent then
        frame.Parent = parent
    end
    
    return frame
end

local function CreateTextLabel(parent, text, size, position, textSize, bold)
    local label = Instance.new("TextLabel")
    label.Text = text
    label.Size = size
    label.Position = position
    label.BackgroundTransparency = 1
    label.TextColor3 = GetTheme().Text
    label.TextSize = textSize or 14
    label.Font = bold and Enum.Font.GothamSemibold or Enum.Font.Gotham
    label.TextXAlignment = Enum.TextXAlignment.Left
    
    if parent then
        label.Parent = parent
    end
    
    return label
end

-- Create Notification Function (Standalone)
function Rayfield:Notify(settings)
    local ScreenGui = game.CoreGui:FindFirstChild("RayfieldPink")
    if not ScreenGui then
        ScreenGui = Instance.new("ScreenGui")
        ScreenGui.Name = "RayfieldPink"
        ScreenGui.Parent = game.CoreGui
    end
    
    local Notification = CreateRoundedFrame(ScreenGui,
        UDim2.new(0, 300, 0, 80),
        UDim2.new(1, 10, 0, 10),
        GetTheme().Card
    )
    Notification.Name = "Notification"
    Notification.ZIndex = 1000
    
    local Border = Instance.new("UIStroke")
    Border.Color = GetTheme().Primary
    Border.Thickness = 2
    Border.Parent = Notification
    
    CreateTextLabel(Notification, settings.Title or "Notification",
        UDim2.new(1, -20, 0, 30),
        UDim2.new(0, 10, 0, 10),
        16, true
    )
    
    CreateTextLabel(Notification, settings.Content or "",
        UDim2.new(1, -20, 1, -40),
        UDim2.new(0, 10, 0, 40),
        14, false
    )
    
    -- Animation
    CreateTween(Notification, {
        Position = UDim2.new(1, -310, 0, 10)
    }):Play()
    
    -- Auto remove
    task.wait(settings.Duration or 5)
    
    CreateTween(Notification, {
        Position = UDim2.new(1, 10, 0, 10),
        BackgroundTransparency = 1
    }):Play()
    
    task.wait(0.3)
    Notification:Destroy()
end

-- Main CreateWindow Function
function Rayfield.CreateWindow(settings)
    settings = settings or {}
    
    -- Create ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "RayfieldPink"
    ScreenGui.DisplayOrder = 999
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    if syn and syn.protect_gui then
        syn.protect_gui(ScreenGui)
    end
    
    ScreenGui.Parent = game.CoreGui
    
    -- Main Container
    local Main = CreateRoundedFrame(ScreenGui, 
        UDim2.new(0, 500, 0, 400),
        UDim2.new(0.5, -250, 0.5, -200),
        GetTheme().Background
    )
    Main.Name = "Main"
    Main.AnchorPoint = Vector2.new(0.5, 0.5)
    
    -- Topbar
    local Topbar = CreateRoundedFrame(Main,
        UDim2.new(1, 0, 0, 40),
        UDim2.new(0, 0, 0, 0),
        GetTheme().Topbar
    )
    Topbar.Name = "Topbar"
    Topbar.ZIndex = 2
    
    local TopbarCorner = Instance.new("UICorner")
    TopbarCorner.CornerRadius = UDim.new(0, 8, 0, 0)
    TopbarCorner.Parent = Topbar
    
    -- Title
    CreateTextLabel(Topbar, settings.Name or "Rayfield Pink",
        UDim2.new(1, -100, 1, 0),
        UDim2.new(0, 15, 0, 0),
        16, true
    )
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Name = "Close"
    CloseButton.Size = UDim2.new(0, 30, 0, 30)
    CloseButton.Position = UDim2.new(1, -40, 0.5, -15)
    CloseButton.AnchorPoint = Vector2.new(0, 0.5)
    CloseButton.BackgroundColor3 = GetTheme().Primary
    CloseButton.Text = "X"
    CloseButton.TextColor3 = Color3.new(1, 1, 1)
    CloseButton.TextSize = 14
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.BorderSizePixel = 0
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 6)
    CloseCorner.Parent = CloseButton
    
    CloseButton.Parent = Topbar
    
    -- Minimize Button
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Name = "Minimize"
    MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
    MinimizeButton.Position = UDim2.new(1, -80, 0.5, -15)
    MinimizeButton.AnchorPoint = Vector2.new(0, 0.5)
    MinimizeButton.BackgroundColor3 = GetTheme().Secondary
    MinimizeButton.Text = "_"
    MinimizeButton.TextColor3 = Color3.new(1, 1, 1)
    MinimizeButton.TextSize = 14
    MinimizeButton.Font = Enum.Font.GothamBold
    MinimizeButton.BorderSizePixel = 0
    
    local MinimizeCorner = Instance.new("UICorner")
    MinimizeCorner.CornerRadius = UDim.new(0, 6)
    MinimizeCorner.Parent = MinimizeButton
    
    MinimizeButton.Parent = Topbar
    
    -- Tab Container
    local TabContainer = CreateRoundedFrame(Main,
        UDim2.new(0, 150, 1, -50),
        UDim2.new(0, 10, 0, 50),
        GetTheme().Card
    )
    TabContainer.Name = "TabContainer"
    
    local TabList = Instance.new("ScrollingFrame")
    TabList.Name = "TabList"
    TabList.Size = UDim2.new(1, -10, 1, -10)
    TabList.Position = UDim2.new(0, 5, 0, 5)
    TabList.BackgroundTransparency = 1
    TabList.ScrollBarThickness = 4
    TabList.ScrollBarImageColor3 = GetTheme().Primary
    TabList.CanvasSize = UDim2.new(0, 0, 0, 0)
    TabList.AutomaticCanvasSize = Enum.AutomaticSize.Y
    
    local TabListLayout = Instance.new("UIListLayout")
    TabListLayout.Padding = UDim.new(0, 8)
    TabListLayout.Parent = TabList
    
    TabList.Parent = TabContainer
    
    -- Content Container
    local ContentContainer = CreateRoundedFrame(Main,
        UDim2.new(1, -180, 1, -50),
        UDim2.new(0, 170, 0, 50),
        GetTheme().Card
    )
    ContentContainer.Name = "ContentContainer"
    
    local ContentScroller = Instance.new("ScrollingFrame")
    ContentScroller.Name = "ContentScroller"
    ContentScroller.Size = UDim2.new(1, -10, 1, -10)
    ContentScroller.Position = UDim2.new(0, 5, 0, 5)
    ContentScroller.BackgroundTransparency = 1
    ContentScroller.ScrollBarThickness = 4
    ContentScroller.ScrollBarImageColor3 = GetTheme().Primary
    ContentScroller.CanvasSize = UDim2.new(0, 0, 0, 0)
    ContentScroller.AutomaticCanvasSize = Enum.AutomaticSize.Y
    
    local ContentLayout = Instance.new("UIListLayout")
    ContentLayout.Padding = UDim.new(0, 10)
    ContentLayout.Parent = ContentScroller
    
    ContentScroller.Parent = ContentContainer
    
    -- Variables
    local Tabs = {}
    local CurrentTab = nil
    local Dragging = false
    local DragStart, StartPosition
    local IsMinimized = false
    
    -- Make Window Draggable
    Topbar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            Dragging = true
            DragStart = input.Position
            StartPosition = Main.Position
            
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    Dragging = false
                end
            end)
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if Dragging and input.UserInputType == Enum.UserInputType.MouseMovement then
            local Delta = input.Position - DragStart
            Main.Position = UDim2.new(
                StartPosition.X.Scale,
                StartPosition.X.Offset + Delta.X,
                StartPosition.Y.Scale,
                StartPosition.Y.Offset + Delta.Y
            )
        end
    end)
    
    -- Close Button Function
    CloseButton.MouseButton1Click:Connect(function()
        CreateTween(Main, {Size = UDim2.new(0, 0, 0, 0)}):Play()
        CreateTween(Main, {Position = UDim2.new(0.5, 0, 0.5, 0)}):Play()
        task.wait(0.3)
        ScreenGui:Destroy()
    end)
    
    -- Minimize Button Function
    MinimizeButton.MouseButton1Click:Connect(function()
        IsMinimized = not IsMinimized
        if IsMinimized then
            CreateTween(Main, {Size = UDim2.new(0, 500, 0, 50)}):Play()
            TabContainer.Visible = false
            ContentContainer.Visible = false
        else
            CreateTween(Main, {Size = UDim2.new(0, 500, 0, 400)}):Play()
            TabContainer.Visible = true
            ContentContainer.Visible = true
        end
    end)
    
    -- Window Object
    local Window = {}
    
    -- Create Tab Function
    function Window:CreateTab(name)
        local Tab = {}
        
        -- Create Tab Button
        local TabButton = CreateRoundedFrame(nil,
            UDim2.new(1, 0, 0, 40),
            UDim2.new(0, 0, 0, 0),
            GetTheme().Card
        )
        TabButton.Name = name
        
        local TabTitle = CreateTextLabel(TabButton, name,
            UDim2.new(1, -20, 1, 0),
            UDim2.new(0, 10, 0, 0),
            14, true
        )
        
        local TabButtonInteract = Instance.new("TextButton")
        TabButtonInteract.Name = "Interact"
        TabButtonInteract.Size = UDim2.new(1, 0, 1, 0)
        TabButtonInteract.BackgroundTransparency = 1
        TabButtonInteract.Text = ""
        TabButtonInteract.Parent = TabButton
        
        TabButton.Parent = TabList
        
        -- Create Tab Content
        local TabContent = Instance.new("Frame")
        TabContent.Name = name
        TabContent.Size = UDim2.new(1, 0, 0, 0)
        TabContent.BackgroundTransparency = 1
        TabContent.Visible = false
        
        local TabContentLayout = Instance.new("UIListLayout")
        TabContentLayout.Padding = UDim.new(0, 10)
        TabContentLayout.Parent = TabContent
        
        TabContent.Parent = ContentScroller
        
        -- Tab Switching
        TabButtonInteract.MouseButton1Click:Connect(function()
            if CurrentTab then
                CurrentTab.Visible = false
            end
            
            -- Update button colors
            for _, btn in pairs(TabList:GetChildren()) do
                if btn:IsA("Frame") and btn.Name ~= "Template" then
                    CreateTween(btn, {BackgroundColor3 = GetTheme().Card}):Play()
                    if btn:FindFirstChildWhichIsA("TextLabel") then
                        CreateTween(btn:FindFirstChildWhichIsA("TextLabel"), {TextColor3 = GetTheme().Text}):Play()
                    end
                end
            end
            
            -- Highlight current tab
            CreateTween(TabButton, {BackgroundColor3 = GetTheme().Primary}):Play()
            CreateTween(TabTitle, {TextColor3 = Color3.new(1, 1, 1)}):Play()
            
            -- Show content
            TabContent.Visible = true
            CurrentTab = TabContent
        end)
        
        -- Set first tab as active
        if #TabList:GetChildren() == 1 then
            task.wait(0.1)
            TabButtonInteract:Fire()
        end
        
        -- Create Button Element
        function Tab:CreateButton(settings)
            local Button = CreateRoundedFrame(TabContent,
                UDim2.new(1, 0, 0, 40),
                UDim2.new(0, 0, 0, 0),
                GetTheme().Card
            )
            Button.Name = settings.Name
            
            local ButtonTitle = CreateTextLabel(Button, settings.Name,
                UDim2.new(1, -20, 1, 0),
                UDim2.new(0, 10, 0, 0),
                14, true
            )
            
            local ButtonInteract = Instance.new("TextButton")
            ButtonInteract.Name = "Interact"
            ButtonInteract.Size = UDim2.new(1, 0, 1, 0)
            ButtonInteract.BackgroundTransparency = 1
            ButtonInteract.Text = ""
            ButtonInteract.Parent = Button
            
            -- Hover Effect
            ButtonInteract.MouseEnter:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().CardHover}):Play()
            end)
            
            ButtonInteract.MouseLeave:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Card}):Play()
            end)
            
            -- Click Effect
            ButtonInteract.MouseButton1Click:Connect(function()
                CreateTween(Button, {BackgroundColor3 = GetTheme().Primary}):Play()
                task.wait(0.1)
                CreateTween(Button, {BackgroundColor3 = GetTheme().Card}):Play()
                
                -- Execute callback
                if settings.Callback then
                    pcall(settings.Callback)
                end
            end)
            
            local ButtonObject = {}
            function ButtonObject:Set(newName)
                Button.Name = newName
                ButtonTitle.Text = newName
            end
            
            return ButtonObject
        end
        
        -- Create Toggle Element
        function Tab:CreateToggle(settings)
            local Toggle = CreateRoundedFrame(TabContent,
                UDim2.new(1, 0, 0, 40),
                UDim2.new(0, 0, 0, 0),
                GetTheme().Card
            )
            Toggle.Name = settings.Name
            
            local ToggleTitle = CreateTextLabel(Toggle, settings.Name,
                UDim2.new(1, -80, 1, 0),
                UDim2.new(0, 10, 0, 0),
                14, true
            )
            
            -- Toggle Switch
            local ToggleSwitch = CreateRoundedFrame(Toggle,
                UDim2.new(0, 50, 0, 25),
                UDim2.new(1, -60, 0.5, -12.5),
                GetTheme().CardHover
            )
            ToggleSwitch.AnchorPoint = Vector2.new(0, 0.5)
            
            local ToggleKnob = CreateRoundedFrame(ToggleSwitch,
                UDim2.new(0, 20, 0, 20),
                UDim2.new(0, 3, 0.5, -10),
                GetTheme().Text
            )
            ToggleKnob.AnchorPoint = Vector2.new(0, 0.5)
            
            local ToggleInteract = Instance.new("TextButton")
            ToggleInteract.Name = "Interact"
            ToggleInteract.Size = UDim2.new(1, 0, 1, 0)
            ToggleInteract.BackgroundTransparency = 1
            ToggleInteract.Text = ""
            ToggleInteract.Parent = Toggle
            
            local State = settings.CurrentValue or false
            
            local function UpdateToggle()
                if State then
                    CreateTween(ToggleKnob, {
                        Position = UDim2.new(1, -23, 0.5, -10),
                        BackgroundColor3 = GetTheme().Primary
                    }):Play()
                    CreateTween(ToggleSwitch, {
                        BackgroundColor3 = Color3.fromRGB(
                            math.floor(GetTheme().Primary.R * 255 * 0.3),
                            math.floor(GetTheme().Primary.G * 255 * 0.3),
                            math.floor(GetTheme().Primary.B * 255 * 0.3)
                        )
                    }):Play()
                else
                    CreateTween(ToggleKnob, {
                        Position = UDim2.new(0, 3, 0.5, -10),
                        BackgroundColor3 = GetTheme().Text
                    }):Play()
                    CreateTween(ToggleSwitch, {
                        BackgroundColor3 = GetTheme().CardHover
                    }):Play()
                end
            end
            
            UpdateToggle()
            
            -- Hover Effect
            ToggleInteract.MouseEnter:Connect(function()
                CreateTween(Toggle, {BackgroundColor3 = GetTheme().CardHover}):Play()
            end)
            
            ToggleInteract.MouseLeave:Connect(function()
                CreateTween(Toggle, {BackgroundColor3 = GetTheme().Card}):Play()
            end)
            
            -- Click Effect
            ToggleInteract.MouseButton1Click:Connect(function()
                State = not State
                UpdateToggle()
                
                -- Execute callback
                if settings.Callback then
                    pcall(settings.Callback, State)
                end
            end)
            
            local ToggleObject = {}
            function ToggleObject:Set(value)
                State = value
                UpdateToggle()
            end
            
            function ToggleObject:Get()
                return State
            end
            
            return ToggleObject
        end
        
        -- Create Slider Element
        function Tab:CreateSlider(settings)
            local Slider = CreateRoundedFrame(TabContent,
                UDim2.new(1, 0, 0, 60),
                UDim2.new(0, 0, 0, 0),
                GetTheme().Card
            )
            Slider.Name = settings.Name
            
            local SliderTitle = CreateTextLabel(Slider, settings.Name,
                UDim2.new(1, -20, 0, 20),
                UDim2.new(0, 10, 0, 5),
                14, true
            )
            
            local SliderValue = CreateTextLabel(Slider, tostring(settings.CurrentValue or settings.Range[1]),
                UDim2.new(0, 60, 0, 20),
                UDim2.new(1, -70, 0, 5),
                14, false
            )
            SliderValue.TextXAlignment = Enum.TextXAlignment.Right
            
            -- Slider Track
            local SliderTrack = CreateRoundedFrame(Slider,
                UDim2.new(1, -20, 0, 10),
                UDim2.new(0, 10, 0, 35),
                GetTheme().CardHover
            )
            SliderTrack.Name = "Track"
            
            local SliderFill = CreateRoundedFrame(SliderTrack,
                UDim2.new(0.5, 0, 1, 0),
                UDim2.new(0, 0, 0, 0),
                GetTheme().Primary
            )
            SliderFill.Name = "Fill"
            
            local SliderInteract = Instance.new("TextButton")
            SliderInteract.Name = "Interact"
            SliderInteract.Size = UDim2.new(1, -20, 0, 30)
            SliderInteract.Position = UDim2.new(0, 10, 0, 30)
            SliderInteract.BackgroundTransparency = 1
            SliderInteract.Text = ""
            SliderInteract.Parent = Slider
            
            local CurrentValue = settings.CurrentValue or settings.Range[1]
            local IsDragging = false
            
            local function UpdateSlider(value)
                value = math.clamp(value, settings.Range[1], settings.Range[2])
                CurrentValue = value
                
                local percentage = (value - settings.Range[1]) / (settings.Range[2] - settings.Range[1])
                SliderFill.Size = UDim2.new(percentage, 0, 1, 0)
                SliderValue.Text = string.format("%.1f", value) .. (settings.Suffix or "")
            end
            
            UpdateSlider(CurrentValue)
            
            -- Drag Handling
            SliderInteract.InputBegan:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    IsDragging = true
                end
            end)
            
            SliderInteract.InputEnded:Connect(function(input)
                if input.UserInputType == Enum.UserInputType.MouseButton1 then
                    IsDragging = false
                end
            end)
            
            SliderInteract.MouseMoved:Connect(function()
                if IsDragging then
                    local mousePos = UserInputService:GetMouseLocation()
                    local absolutePos = SliderTrack.AbsolutePosition
                    local absoluteSize = SliderTrack.AbsoluteSize
                    
                    local relativeX = math.clamp(
                        (mousePos.X - absolutePos.X) / absoluteSize.X,
                        0, 1
                    )
                    
                    local newValue = settings.Range[1] + 
                                    relativeX * (settings.Range[2] - settings.Range[1])
                    
                    -- Apply increment
                    if settings.Increment then
                        newValue = math.floor(newValue / settings.Increment + 0.5) * settings.Increment
                    end
                    
                    UpdateSlider(newValue)
                    
                    -- Execute callback
                    if settings.Callback then
                        pcall(settings.Callback, newValue)
                    end
                end
            end)
            
            local SliderObject = {}
            function SliderObject:Set(value)
                UpdateSlider(value)
                if settings.Callback then
                    pcall(settings.Callback, value)
                end
            end
            
            function SliderObject:Get()
                return CurrentValue
            end
            
            return SliderObject
        end
        
        -- Create Label Element
        function Tab:CreateLabel(text)
            local Label = CreateRoundedFrame(TabContent,
                UDim2.new(1, 0, 0, 30),
                UDim2.new(0, 0, 0, 0),
                GetTheme().Card
            )
            
            CreateTextLabel(Label, text,
                UDim2.new(1, -20, 1, 0),
                UDim2.new(0, 10, 0, 0),
                14, false
            )
            
            local LabelObject = {}
            function LabelObject:Set(newText)
                if Label:FindFirstChildWhichIsA("TextLabel") then
                    Label:FindFirstChildWhichIsA("TextLabel").Text = newText
                end
            end
            
            return LabelObject
        end
        
        table.insert(Tabs, Tab)
        return Tab
    end
    
    -- Window Control Functions
    function Window:Hide()
        CreateTween(Main, {Position = UDim2.new(0.5, 0, 1.5, 0)}):Play()
    end
    
    function Window:Show()
        CreateTween(Main, {Position = UDim2.new(0.5, 0, 0.5, 0)}):Play()
    end
    
    function Window:ChangeTheme(themeName)
        if Rayfield.Themes[themeName] then
            Rayfield.CurrentTheme = themeName
            
            -- Update all colors
            Main.BackgroundColor3 = GetTheme().Background
            Topbar.BackgroundColor3 = GetTheme().Topbar
            TabContainer.BackgroundColor3 = GetTheme().Card
            ContentContainer.BackgroundColor3 = GetTheme().Card
            CloseButton.BackgroundColor3 = GetTheme().Primary
            MinimizeButton.BackgroundColor3 = GetTheme().Secondary
            
            -- Update text colors
            for _, obj in pairs(ScreenGui:GetDescendants()) do
                if obj:IsA("TextLabel") or obj:IsA("TextButton") then
                    obj.TextColor3 = GetTheme().Text
                end
            end
        end
    end
    
    -- Notification Function for Window
    function Window:Notify(settings)
        local Notification = CreateRoundedFrame(ScreenGui,
            UDim2.new(0, 300, 0, 80),
            UDim2.new(1, 10, 0, 10),
            GetTheme().Card
        )
        Notification.Name = "Notification"
        Notification.ZIndex = 1000
        
        local Border = Instance.new("UIStroke")
        Border.Color = GetTheme().Primary
        Border.Thickness = 2
        Border.Parent = Notification
        
        CreateTextLabel(Notification, settings.Title or "Notification",
            UDim2.new(1, -20, 0, 30),
            UDim2.new(0, 10, 0, 10),
            16, true
        )
        
        CreateTextLabel(Notification, settings.Content or "",
            UDim2.new(1, -20, 1, -40),
            UDim2.new(0, 10, 0, 40),
            14, false
        )
        
        -- Animation
        CreateTween(Notification, {
            Position = UDim2.new(1, -310, 0, 10)
        }):Play()
        
        -- Auto remove
        task.wait(settings.Duration or 5)
        
        CreateTween(Notification, {
            Position = UDim2.new(1, 10, 0, 10),
            BackgroundTransparency = 1
        }):Play()
        
        task.wait(0.3)
        Notification:Destroy()
    end
    
    -- Keybind to show/hide window
    if settings.ToggleKey then
        UserInputService.InputBegan:Connect(function(input, processed)
            if not processed and input.KeyCode == Enum.KeyCode[settings.ToggleKey] then
                if Main.Position.Y.Offset > 1 then
                    Window:Hide()
                else
                    Window:Show()
                end
            end
        end)
    end
    
    -- Send welcome notification
    task.wait(0.5)
    Window:Notify({
        Title = "Rayfield Pink",
        Content = "Interface erfolgreich geladen!",
        Duration = 3
    })
    
    return Window
end

-- Return the library
return Rayfield
